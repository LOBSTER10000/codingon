<!DOCTYPE html>
<html lang="ko">
  <head>
    <script
      src="https://code.jquery.com/jquery-3.7.0.js"
      integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM="
      crossorigin="anonymous"
    ></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>제이쿼리 실습</title>
    <style>
      h1 {
        color: green;
      }
      .box {
        text-align: center;
      }

      #table {
        width: 500px;
        height: 500px;
        margin: 0 auto;
      }

      .red {
        color: red;
      }
      .blue {
        color: blue;
      }

      .text_content {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 80px;
      }

      td {
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
      }
    </style>
  </head>
  <body>
    <div style="margin-top: 3%; text-align: center">
      <form id="form">
        <label for="dates">날짜</label>
        <input type="text" name="dates" class="dates" value="" /><br />
        <label for="contents">내용</label>
        <input type="text" name="contents" class="contents" value="" /><br />
        <input type="submit" value="작성" class="submits" /><br />
      </form>
    </div>
    <div class="box">
      <h1>2022년 7월</h1>
      <table id="table">
        <tr>
          <th class="red">일</th>
          <th>월</th>
          <th>화</th>
          <th>수</th>
          <th>목</th>
          <th>금</th>
          <th class="blue">토</th>
        </tr>
        <tr>
          <td colspan="5"></td>
          <td class="day">
            1
            <div class="text_content"></div>
          </td>
          <td class="blue day">
            2
            <div class="text_content"></div>
          </td>
        </tr>
        <tr>
          <td class="red day">
            3
            <div class="text_content"></div>
          </td>
          <td class="day">
            4
            <div class="text_content"></div>
          </td>
          <td class="day">
            5
            <div class="text_content"></div>
          </td>
          <td class="day">
            6
            <div class="text_content"></div>
          </td>
          <td class="day">
            7
            <div class="text_content"></div>
          </td>
          <td class="day">
            8
            <div class="text_content"></div>
          </td>
          <td class="blue day">
            9
            <div class="text_content"></div>
          </td>
        </tr>
        <tr>
          <td class="red day">
            10
            <div class="text_content"></div>
          </td>
          <td class="day">
            11
            <div class="text_content"></div>
          </td>
          <td class="day">
            12
            <div class="text_content"></div>
          </td>
          <td class="day">
            13
            <div class="text_content"></div>
          </td>
          <td class="day">
            14
            <div class="text_content"></div>
          </td>
          <td class="day">
            15
            <div class="text_content"></div>
          </td>
          <td class="blue day">
            16
            <div class="text_content"></div>
          </td>
        </tr>
        <tr>
          <td class="red day">
            17
            <div class="text_content"></div>
          </td>
          <td class="day">
            18
            <div class="text_content"></div>
          </td>
          <td class="day">
            19
            <div class="text_content"></div>
          </td>
          <td class="day">
            20
            <div class="text_content"></div>
          </td>
          <td class="day">
            21
            <div class="text_content"></div>
          </td>
          <td class="day">
            22
            <div class="text_content"></div>
          </td>
          <td class="blue day">
            23
            <div class="text_content"></div>
          </td>
        </tr>
        <tr>
          <td class="red day">
            24
            <div class="text_content"></div>
          </td>
          <td class="day">
            25
            <div class="text_content"></div>
          </td>
          <td class="day">
            26
            <div class="text_content"></div>
          </td>
          <td class="day">
            27
            <div class="text_content"></div>
          </td>
          <td class="day">
            28
            <div class="text_content"></div>
          </td>
          <td class="day">
            29
            <div class="text_content"></div>
          </td>
          <td class="blue day">
            30
            <div class="text_content"></div>
          </td>
        </tr>
        <tr>
          <td class="red day">
            31
            <div class="text_content"></div>
          </td>
        </tr>
      </table>
    </div>
    <script>
      let dates = $('.dates');
      let form = $('#form');

      $('td.day').on('click', function (e) {
        let td = $(this).text().trim();
        dates.val(td);
      });

      form.on('submit', function (e) {
        e.preventDefault();
        let selectedDate = dates.val();
        let contents = $('.contents').val();
        console.log(e);
        $('td.day').each(function () {
          let td = $(this).text().trim();

          if (td === selectedDate) {
            let textContent = $(this).find('.text_content');
            textContent.text(contents);
          }
        });
      });
    </script>
  </body>
</html>
